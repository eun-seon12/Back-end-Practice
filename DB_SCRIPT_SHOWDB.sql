DROP TABLE IF EXISTS musical;

CREATE TABLE IF NOT EXISTS musical
(
    `SHOW_ID`    INTEGER(10) NOT NULL COMMENT '공연코드',
    `SHOW_NAME`    VARCHAR(20) NOT NULL COMMENT '공연명',
    `SHOW_LOCATION`    VARCHAR(20) COMMENT '공연장소',
    `SHOW_DATE`    DATE UNIQUE COMMENT '공연날짜',
 PRIMARY KEY ( `SHOW_ID` )
) COMMENT = '공연';

INSERT INTO musical VALUES (1000,'오페라의 유령','예술의 전당','2025-10-01');
INSERT INTO musical VALUES (1001,'팬텀','대학로','2025-09-01');
INSERT INTO musical VALUES (1002,'지킬앤하이드','대학로','2025-08-20');
INSERT INTO musical VALUES (1003,'위키드','예술의 전당','2025-10-11');
INSERT INTO musical VALUES (1004,'시카고','디큐브아트센터','2025-09-24');

DROP TABLE IF EXISTS reservation;

CREATE TABLE IF NOT EXISTS reservation
(
    `RESERVATION_ID`    INTEGER(20) NOT NULL COMMENT '예매코드',
    `RESERVATION_PRICE`    INTEGER(7) NOT NULL COMMENT '예매가격',
    `RESERVATION_YN`    VARCHAR(1) CHECK (`RESERVATION_YN` IN ('Y', 'N')) DEFAULT 'Y' NOT NULL COMMENT '예매가능여부',
    `USER_ID`    INTEGER(3) NOT NULL COMMENT '회원id',
    `SHOW_ID`    INTEGER(10) NOT NULL COMMENT '공연코드',
 PRIMARY KEY ( `USER_ID`,`RESERVATION_ID` )
) COMMENT = '예매';

INSERT INTO reservation VALUES (1111,70000,'Y',100,1000);
INSERT INTO reservation VALUES (2222,100000,'Y',102,1000);
INSERT INTO reservation VALUES (3333,130000,'Y',107,1004);
INSERT INTO reservation VALUES (4444,150000,'Y',107,1005);
INSERT INTO reservation VALUES (5555,100000,'Y',101,1001);

DROP TABLE IF EXISTS seats;

CREATE TABLE IF NOT EXISTS seats
(
	`SHOW_ID`    INTEGER(10) NOT NULL COMMENT '공연코드',
    `SEAT_ID`    VARCHAR(5) NOT NULL COMMENT '좌석등급',
    `SEAT_LOCATION`    VARCHAR(5) NOT NULL COMMENT '좌석위치',
    `SEAT_PRICE`    INTEGER(7) NOT NULL COMMENT '좌석가격',
    `SEAT_YN`    VARCHAR(3) CHECK (`SEAT_YN` IN ('Y', 'N')) DEFAULT 'Y' NOT NULL COMMENT '좌석여부',
    
 PRIMARY KEY ( `SHOW_ID`, `SEAT_ID`, `SEAT_LOCATION` )
) COMMENT = '좌석';

INSERT INTO seats VALUES (1000,'VIP','VIP1',150000,'Y');
INSERT INTO seats VALUES (1000,'VIP','VIP2',150000,'Y');
INSERT INTO seats VALUES (1000,'R','R1',130000,'Y');
INSERT INTO seats VALUES (1000,'R','R2',130000,'Y');
INSERT INTO seats VALUES (1000,'S','S1',100000,'Y');
INSERT INTO seats VALUES (1000,'S','S2',100000,'Y');
INSERT INTO seats VALUES (1000,'A','A1',70000,'Y');
INSERT INTO seats VALUES (1000,'A','A2',70000,'Y');

INSERT INTO seats VALUES (1001,'VIP','VIP1',150000,'Y');
INSERT INTO seats VALUES (1001,'VIP','VIP2',150000,'Y');
INSERT INTO seats VALUES (1001,'R','R1',130000,'Y');
INSERT INTO seats VALUES (1001,'R','R2',130000,'Y');
INSERT INTO seats VALUES (1001,'S','S1',100000,'Y');
INSERT INTO seats VALUES (1001,'S','S2',100000,'Y');
INSERT INTO seats VALUES (1001,'A','A1',70000,'Y');
INSERT INTO seats VALUES (1001,'A','A2',70000,'Y');

INSERT INTO seats VALUES (1002,'VIP','VIP1',150000,'Y');
INSERT INTO seats VALUES (1002,'VIP','VIP2',150000,'Y');
INSERT INTO seats VALUES (1002,'R','R1',130000,'Y');
INSERT INTO seats VALUES (1002,'R','R2',130000,'Y');
INSERT INTO seats VALUES (1002,'S','S1',100000,'Y');
INSERT INTO seats VALUES (1002,'S','S2',100000,'Y');
INSERT INTO seats VALUES (1002,'A','A1',70000,'Y');
INSERT INTO seats VALUES (1002,'A','A2',70000,'Y');

INSERT INTO seats VALUES (1003,'VIP','VIP1',150000,'Y');
INSERT INTO seats VALUES (1003,'VIP','VIP2',150000,'Y');
INSERT INTO seats VALUES (1003,'R','R1',130000,'Y');
INSERT INTO seats VALUES (1003,'R','R2',130000,'Y');
INSERT INTO seats VALUES (1003,'S','S1',100000,'Y');
INSERT INTO seats VALUES (1003,'S','S2',100000,'Y');
INSERT INTO seats VALUES (1003,'A','A1',70000,'Y');
INSERT INTO seats VALUES (1003,'A','A2',70000,'Y');

INSERT INTO seats VALUES (1004,'VIP','VIP1',150000,'Y');
INSERT INTO seats VALUES (1004,'VIP','VIP2',150000,'Y');
INSERT INTO seats VALUES (1004,'R','R1',130000,'Y');
INSERT INTO seats VALUES (1004,'R','R2',130000,'Y');
INSERT INTO seats VALUES (1004,'S','S1',100000,'Y');
INSERT INTO seats VALUES (1004,'S','S2',100000,'Y');
INSERT INTO seats VALUES (1004,'A','A1',70000,'Y');
INSERT INTO seats VALUES (1004,'A','A2',70000,'Y');

DROP TABLE IF EXISTS user;

CREATE TABLE IF NOT EXISTS user
(
	`USER_ID`    INTEGER(3) NOT NULL COMMENT '회원id',
    `USER_NAME`    VARCHAR(20) NOT NULL COMMENT '회원명',
    `USER_PWD`    VARCHAR(15) NOT NULL COMMENT '회원비밀번호',
    `AGE`    INTEGER(3) COMMENT '회원나이',
    `PHONE`    VARCHAR(12) COMMENT '회원전화번호',
    `GENDER`    VARCHAR(3) COMMENT '회원성별',
 PRIMARY KEY ( `USER_ID` )
) COMMENT = '회원';

INSERT INTO user VALUES (101,'김하나','first',20,'01012345678','F');
INSERT INTO user VALUES (102,'강둘','second',15,'01012348765','F');
INSERT INTO user VALUES (103,'나셋','third',25,'01056781234','M');
INSERT INTO user VALUES (104,'박넷','fourth',50,'01056784321','M');
INSERT INTO user VALUES (105,'이다섯','fifth',42,'01043215678','F');
INSERT INTO user VALUES (106,'이여섯','sixth',28,'01043218765','M');
INSERT INTO user VALUES (107,'장일곱','seventh',35,'01012340005','M');
INSERT INTO user VALUES (108,'최여덟','eighth',30,'01012340006','F');
INSERT INTO user VALUES (109,'표아홉','nineth',45,'01012340007','F');
INSERT INTO user VALUES (110,'홍열','tenth',4,'01012340008','F');