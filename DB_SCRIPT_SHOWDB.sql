DROP TABLE IF EXISTS `user`;

CREATE TABLE IF NOT EXISTS `user`
(
	`USER_CODE`    INTEGER(3) AUTO_INCREMENT NOT NULL COMMENT '회원코드',
	`USER_ID`    VARCHAR(12) NOT NULL UNIQUE COMMENT '회원아이디',
    `USER_NAME`    VARCHAR(20) NOT NULL COMMENT '회원명',
    `USER_PWD`    VARCHAR(15) NOT NULL COMMENT '회원비밀번호',
    `AGE`    INTEGER(3) COMMENT '회원나이',
    `PHONE`    VARCHAR(12) COMMENT '회원전화번호', 
    `GENDER`    VARCHAR(3) COMMENT '회원성별',
 PRIMARY KEY ( `USER_CODE` )
) AUTO_INCREMENT= 101 COMMENT = '회원';

INSERT INTO `user` (USER_ID, USER_NAME, USER_PWD, AGE, PHONE, GENDER) VALUES ('kim1','김하나','first',20,'01012345678','F');
INSERT INTO `user` (USER_ID, USER_NAME, USER_PWD, AGE, PHONE, GENDER) VALUES ('kang2','강둘','second',15,'01012348765','F');
INSERT INTO `user` (USER_ID, USER_NAME, USER_PWD, AGE, PHONE, GENDER) VALUES ('na3','나셋','third',25,'01056781234','M');
INSERT INTO `user` (USER_ID, USER_NAME, USER_PWD, AGE, PHONE, GENDER) VALUES ('park4','박넷','fourth',50,'01056784321','M');
INSERT INTO `user` (USER_ID, USER_NAME, USER_PWD, AGE, PHONE, GENDER) VALUES ('lee5','이다섯','fifth',42,'01043215678','F');
INSERT INTO `user` (USER_ID, USER_NAME, USER_PWD, AGE, PHONE, GENDER) VALUES ('lee6','이여섯','sixth',28,'01043218765','M');
INSERT INTO `user` (USER_ID, USER_NAME, USER_PWD, AGE, PHONE, GENDER) VALUES ('jang7','장일곱','seventh',35,'01012340005','M');
INSERT INTO `user` (USER_ID, USER_NAME, USER_PWD, AGE, PHONE, GENDER) VALUES ('choi8','최여덟','eighth',30,'01012340006','F');
INSERT INTO `user` (USER_ID, USER_NAME, USER_PWD, AGE, PHONE, GENDER) VALUES ('pyo9','표아홉','nineth',45,'01012340007','F');
INSERT INTO `user` (USER_ID, USER_NAME, USER_PWD, AGE, PHONE, GENDER) VALUES ('hong10','홍열','tenth',4,'01012340008','F');


DROP TABLE IF EXISTS `show`;

CREATE TABLE IF NOT EXISTS `show`
(
    `SHOW_CODE`    INTEGER(10) NOT NULL COMMENT '공연코드',
    `SHOW_NAME`    VARCHAR(20) NOT NULL COMMENT '공연명',
    `SHOW_LOCATION`    VARCHAR(20) COMMENT '공연장소',
    `SHOW_DATE`    VARCHAR(15) COMMENT '공연날짜',
 PRIMARY KEY ( `SHOW_CODE` )
) COMMENT = '공연';

INSERT INTO `show` VALUES (1000,'오페라의 유령','예술의 전당','2025-10-01');
INSERT INTO `show` VALUES (1001,'팬텀','대학로','2025-09-01');
INSERT INTO `show` VALUES (1002,'지킬앤하이드','대학로','2025-08-20');
INSERT INTO `show` VALUES (1003,'위키드','예술의 전당','2025-10-11');
INSERT INTO `show` VALUES (1004,'시카고','디큐브아트센터','2025-09-24');

DROP TABLE IF EXISTS `reservation`;

CREATE TABLE IF NOT EXISTS `reservation`
(
    `RESERVATION_CODE`    INTEGER(20) AUTO_INCREMENT NOT NULL COMMENT '예매코드',
    `USER_CODE`    INTEGER(3) NOT NULL COMMENT '회원코드',
    `SHOW_CODE`    INTEGER(10) NOT NULL COMMENT '공연코드',
	`SEAT_CODE`    INTEGER(4) NOT NULL COMMENT '좌석코드',
 PRIMARY KEY ( `RESERVATION_CODE`),
 FOREIGN KEY(`USER_CODE`) REFERENCES `user` ( `USER_CODE` )
) AUTO_INCREMENT= 202508141 COMMENT = '예매';

INSERT INTO `reservation` (USER_CODE, SHOW_CODE, SEAT_CODE) VALUES (101, 1000, 1);
INSERT INTO `reservation` (USER_CODE, SHOW_CODE, SEAT_CODE) VALUES (105, 1000, 6);
INSERT INTO `reservation` (USER_CODE, SHOW_CODE, SEAT_CODE) VALUES (104, 1001, 9);
INSERT INTO `reservation` (USER_CODE, SHOW_CODE, SEAT_CODE) VALUES (108, 1002, 24);



DROP TABLE IF EXISTS `seat`;

CREATE TABLE IF NOT EXISTS `seat`
(
	`SEAT_CODE`    INTEGER(4) NOT NULL COMMENT '좌석코드',
    `SHOW_CODE`    INTEGER(10) NOT NULL COMMENT '공연코드',
    `SEAT_GRADE`    VARCHAR(10) NOT NULL COMMENT '좌석등급',
    `SEAT_LOCATION`    VARCHAR(5) NOT NULL COMMENT '좌석위치',
    `SEAT_PRICE`    INTEGER(7) NOT NULL COMMENT '좌석가격',
    `SEAT_YN`    VARCHAR(3) DEFAULT 'Y' NOT NULL COMMENT '좌석여부',
 PRIMARY KEY ( `SEAT_CODE` ),
 FOREIGN KEY(`SHOW_CODE`) REFERENCES `show` ( `SHOW_CODE` )
) COMMENT = '좌석';

INSERT INTO `seat` VALUES (1,1000,'VIP','VIP1',150000,'Y');
INSERT INTO `seat` VALUES (2,1000,'VIP','VIP2',150000,'Y');
INSERT INTO `seat` VALUES (3,1000,'R','R1',130000,'Y');
INSERT INTO `seat` VALUES (4,1000,'R','R2',130000,'Y');
INSERT INTO `seat` VALUES (5,1000,'S','S1',100000,'Y');
INSERT INTO `seat` VALUES (6,1000,'S','S2',100000,'Y');
INSERT INTO `seat` VALUES (7,1000,'A','A1',70000,'Y');
INSERT INTO `seat` VALUES (8,1000,'A','A2',70000,'Y');

INSERT INTO `seat` VALUES (9,1001,'VIP','VIP1',150000,'Y');
INSERT INTO `seat` VALUES (10,1001,'VIP','VIP2',150000,'Y');
INSERT INTO `seat` VALUES (11,1001,'R','R1',130000,'Y');
INSERT INTO `seat` VALUES (12,1001,'R','R2',130000,'Y');
INSERT INTO `seat` VALUES (13,1001,'S','S1',100000,'Y');
INSERT INTO `seat` VALUES (14,1001,'S','S2',100000,'Y');
INSERT INTO `seat` VALUES (15,1001,'A','A1',70000,'Y');
INSERT INTO `seat` VALUES (16,1001,'A','A2',70000,'Y');

INSERT INTO `seat` VALUES (17,1002,'VIP','VIP1',150000,'Y');
INSERT INTO `seat` VALUES (18,1002,'VIP','VIP2',150000,'Y');
INSERT INTO `seat` VALUES (19,1002,'R','R1',130000,'Y');
INSERT INTO `seat` VALUES (20,1002,'R','R2',130000,'Y');
INSERT INTO `seat` VALUES (21,1002,'S','S1',100000,'Y');
INSERT INTO `seat` VALUES (22,1002,'S','S2',100000,'Y');
INSERT INTO `seat` VALUES (23,1002,'A','A1',70000,'Y');
INSERT INTO `seat` VALUES (24,1002,'A','A2',70000,'Y');

INSERT INTO `seat` VALUES (25,1003,'VIP','VIP1',150000,'Y');
INSERT INTO `seat` VALUES (26,1003,'VIP','VIP2',150000,'Y');
INSERT INTO `seat` VALUES (27,1003,'R','R1',130000,'Y');
INSERT INTO `seat` VALUES (28,1003,'R','R2',130000,'Y');
INSERT INTO `seat` VALUES (29,1003,'S','S1',100000,'Y');
INSERT INTO `seat` VALUES (30,1003,'S','S2',100000,'Y');
INSERT INTO `seat` VALUES (31,1003,'A','A1',70000,'Y');
INSERT INTO `seat` VALUES (32,1003,'A','A2',70000,'Y');

INSERT INTO `seat` VALUES (33,1004,'VIP','VIP1',150000,'Y');
INSERT INTO `seat` VALUES (34,1004,'VIP','VIP2',150000,'Y');
INSERT INTO `seat` VALUES (35,1004,'R','R1',130000,'Y');
INSERT INTO `seat` VALUES (36,1004,'R','R2',130000,'Y');
INSERT INTO `seat` VALUES (37,1004,'S','S1',100000,'Y');
INSERT INTO `seat` VALUES (38,1004,'S','S2',100000,'Y');
INSERT INTO `seat` VALUES (39,1004,'A','A1',70000,'Y');
INSERT INTO `seat` VALUES (40,1004,'A','A2',70000,'Y');

